{% macro render_field(field) %}
<div class="field">
    {% if field.errors %}
    {% for error in field.errors %}
    <div class="notification error">{{ error }}</div>
    {% endfor %}
    {% endif %}
    {{ field(placeholder=field.label.text) }}
</div>
{% endmacro %}

<!-- treehouse code challange -->
{% macro hide_email(email) %}
    {% set name = email.split('@')[0] %}
    {% set domain = email.split('@')[1] %}
    {% set hidden_name = [name[0]] %}
    {% for n in range(1, name|length) %}
        {% if hidden_name.append('*')  %}{% endif %}
    {% endfor %}
    {{ ''.join(hidden_name) + '@' + domain  }}
{% endmacro %}